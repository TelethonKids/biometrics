---
title: "t101XX Project Name"
subtitle: "TCRC Biostatistics Analysis"
author:
  - "Author"
affiliation:
  - "Telethon Kids Institute, The University of Western Australia, Perth, Western Australia, Australia"
date: "`r format(Sys.time(), '%d %B %Y')`"
logo: assets/images/logo800.jpg
nav_logo: assets/images/logo_plain.jpg
header-background: yellow-stripes-darker
header-breakout: pms205-breakout
output:
  html_document:
    toc: true
    toc_float: true
    template: assets/templates/html_report.html
    css: assets/css/html_report.css
    self_contained: true
vignette: >
  %\VignetteIndexEntry{t101XX Unified analysis plan and report}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
bibliography:
  - assets/bib/packages.bib
  - assets/bib/bibliography.bib

---

```{r init, include = FALSE}
#### Load packages and add citation information to packages.bib ----

library(repmis)
LoadandCite(pkgs = c("ggplot2", "dplyr", "tidyr", "readr", "purrr", "tibble",
                     "stringr", "forcats", "lubridate", "ProjectTemplate", "repmis",
                     "biometrics", "knitr", "kableExtra", "broom", "GGally",
                     "jtools", "captioner", "rmarkdown"),
            file = "assets/bib/packages.bib")
recoder("assets/bib/packages.bib")

#### ProjectTemplate project initiation ----

# wd <- getwd()
# setwd("../")
# load.project(munging = FALSE, data_loading = TRUE)
# setwd(wd)

#### Load template hooks ----

source("assets/R/hooks.R")

#### Load helper functions ----

source("../R/99-helper.R")

#### Load data ----

load("../data/dat.RData")

#### Data wrangling ----

# All data wrangling should be done in the munge directory, but any further data
# manipulation can be done here.

#### Models ----

mods <- list()
mods$iris_data <- lm(Sepal.Length ~ Sepal.Width + Species, data = iris)

```

# Overview

***XXX*** from the ***XXX Research Team*** is looking to engage in consultation with the Telethon Kids Institute's Biometrics team to undertake statistical analysis to determine ***brief project summary***.

Project roles:

* ***XXX*** - Sponsor - ***XXX Research Team*** (XXX.XXX@telethonkids.org.au)
* ***XXX*** - Principal Investigator - Biometrics (XXX.XXX@telethonkids.org.au)
* ***XXX*** - Coordinating Principal Investigator - Biometrics (XXX.XXX@telethonkids.org.au)

## Study Overview

***Study overview to put the analysis in context.***

# Research Question

***Research Question***

## Inclusion Criteria

* ***Age < 18 years old***
* ***Scores > 20***
* ***...***

## Data Variables Overview

### Key Variables

* Outcome variables (to be modelled separately)
  - ***XXX***
  - ***XXX***
   
### Primary Independent Variable

* ***XXX***

### Adjusting Covariates

* ***XXX***
* ***XXX***
* ***XXX***

## Dataset Overview

* `file.xlsx` (DD MMM YYYY, provided by ***XXX***)
* `file.sav` (DD MMM YYYY, provided by ***XXX***)

### Preliminary Data Cleaning Steps

* ***XXX***
* ***XXX***

### Cohort Summary

There were ***XXX*** children born from ***XXX*** women over the study study interval, ***XXX*** were males that were diagnosed with ***XXX***.

## Pairs Plot
 
```{r variable_matrix, out.extra = "figure", echo = F, message = F, warning = F}
ggpairs(iris, # update with name of data frame, select important columns
        mapping = ggplot2::aes(colour = factor(Species), alpha = 0.6),
        diag = list(continuous = "densityDiag"),
        axisLabels = "show") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

# Actions

* ***XXX*** to provide cleaned/recoded data to ***XXX***
* ***XXX*** could not be found in the provided data, could ***XXX*** please provide some insight

# Analysis Plan

* Research Question 1
    - Linear regression `lm()` [@CiteR]
        + $y \sim mx + b$
        + where, ***XXX***
* Research Question 2
    - Linear regression `glm()` [@CiteR]
        + $y \sim mx + b$
        + where, ***XXX***

Statistical models will be prepared for the dependant measures identified above with some commentary regarding their interpretation and statistical significance in terms of 95% confidence intervals. Where appropriate, figures will be prepared to help convey the analysis findings.

Commentary around the methods and results of model creation will be provided in the form of a report with bullet-point summaries of the analysis procedures and results. The analysis and reporting will be completed in the R programming language and all R script files associated with the analysis will be made available to the researcher upon request.

# Analysis Estimate

The Telethon Clinical Research Centre (TCRC) provides 7.5 hours of biostatistical support. A TCRC biostatistician will carry out analysis for this project and will notify the project sponsor when the analysis reaches 7.5 hours; any further analysis, should it be required, will be completed on a cost-recovery basis at a rate of $875 per day, excluding GST.

# Summary of Findings

## Tables

```{r model_1, echo = FALSE, message = FALSE, warning = FALSE}
export_summs(mods$iris_data, error_format = "CI [{conf.low}, {conf.high}]", model.names = "Iris Data", exp = FALSE)

```

## Figures

### Raw Data

```{r figure 1-1, echo = FALSE, out.extra = "figure", message = FALSE, warning = FALSE}
ggplot(iris, aes(x = Sepal.Width, y = Sepal.Length, group = Species, color = Species)) +
  geom_point() +
  geom_smooth(method = "lm") +
  labs(title = "Iris Data")

```

### Model Outcomes

```{r figure_1-1, echo = FALSE, out.extra = "figure", message = FALSE, warning = FALSE}
plot_summs(mods$iris_data, model.names = "Iris Data")

```

## Notes

* Linear regression [@CiteR]
    - $y \sim mx + b$
* The reported effect estimates have ***not*** been exponentiated
* Effect estimates, 95% confidence intervals that include 0 indicated there was insufficient evidence to establish statistical significance
* ***Key observations...***
    - `r filter(quick_text(mods), term == "Sepal.Width")$text1`

## Conclusion

***One or 2 sentences to summarise the analysis.***

# End Matter

## Reproducible Research Information

This document was prepared using the software [R](https://www.r-project.org/) [@CiteR], via the [RStudio](https://www.rstudio.com/) IDE [@RStudio], and was written in [RMarkdown](https://rmarkdown.rstudio.com/) [@R-rmarkdown].

```{r echo = T}
sessionInfo()

```

## References
